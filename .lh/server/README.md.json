{
    "sourceFile": "server/README.md",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1763982599443,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1764023881139,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -320,4 +320,73 @@\n - Tournament objects cached in memory for fast access\r\n - Redis persistence for durability and recovery\r\n - Automatic cleanup of completed tournaments (optional)\r\n \r\n+### Scalability\r\n+- Horizontal scaling support via Redis clustering\r\n+- Stateless API design for load balancing\r\n+- Efficient data structures for large tournaments\r\n+\r\n+### Monitoring\r\n+- Request logging and error tracking\r\n+- Performance metrics for critical operations\r\n+- Tournament state analytics\r\n+\r\n+## ðŸš€ Deployment\r\n+\r\n+### Docker Configuration\r\n+```dockerfile\r\n+FROM node:22-alpine\r\n+WORKDIR /app\r\n+COPY package*.json ./\r\n+RUN npm ci --only=production\r\n+COPY . .\r\n+RUN npm run build:server\r\n+EXPOSE 3000\r\n+CMD [\"npm\", \"start\"]\r\n+```\r\n+\r\n+### Environment Variables\r\n+```bash\r\n+REDIS_URL=redis://localhost:6379  # Redis connection string\r\n+PORT=3000                         # Server port\r\n+NODE_ENV=production              # Environment mode\r\n+```\r\n+\r\n+### Health Checks\r\n+```typescript\r\n+app.get('/api/health', (req, res) => {\r\n+  res.json({\r\n+    status: 'ok',\r\n+    timestamp: new Date().toISOString(),\r\n+    tournaments: tournaments.size\r\n+  });\r\n+});\r\n+```\r\n+\r\n+---\r\n+\r\n+**Built with TypeScript for type safety and Redis for reliable persistence.**\r\n+### Scalability\r\n+- Horizontal scaling support via Redis clustering\r\n+- Stateless API design for load balancing\r\n+- Efficient data structures for large tournaments\r\n+\r\n+### Monitoring\r\n+- Request logging and error tracking\r\n+- Performance metrics for critical operations\r\n+- Tournament state analytics\r\n+\r\n+## ðŸš€ Deployment\r\n+\r\n+### Docker Configuration\r\n+```dockerfile\r\n+FROM node:22-alpine\r\n+WORKDIR /app\r\n+COPY package*.json ./\r\n+RUN npm ci --only=production\r\n+COPY . .\r\n+RUN npm run build:server\r\n+EXPOSE 3000\r\n+CMD [\"npm\", \"start\"]\r\n+```\r\n+\r\n"
                }
            ],
            "date": 1763982599443,
            "name": "Commit-0",
            "content": "# Server Folder Overview\r\n\r\nContains backend code for tournament logic, API server, and tests.\r\n\r\n## Files\r\n- `index.ts`: Express server setup, API routes, state persistence with Redis\r\n- `tournament.ts`: Core tournament management class, player/match/bracket logic\r\n- `brackets.test.ts`: Unit tests for bracket generation and validation\r\n\r\n## Key Functions in tournament.ts\r\n- `addPlayer(name: string): Player`: Adds a new player with default stats\r\n- `startGroupStage()`: Initiates group phase, generates pods and matches\r\n- `generatePods()`: Private method to create groups and round-robin matches\r\n- `submitMatchResult(matchId: string, results: object)`: Updates match results and player stats\r\n- `getRankings(): Player[]`: Returns sorted player rankings by points\r\n- `generateBrackets()`: Creates playoff brackets based on rankings\r\n- `createPlayoffBracket(players: Player[])`: Private method to build brackets for 4/6/8 players\r\n- `submitBracketWinner(matchId: string, winnerId: string)`: Advances winner in bracket, handles third-place logic\r\n\r\n## Key Functions in index.ts\r\n- API routes: GET /api/state, POST /api/players, POST /api/start, POST /api/match/:id, POST /api/brackets, POST /api/bracket-match/:id, POST /api/reset\r\n- `saveState()`: Persists tournament state to Redis\r\n- `loadState()`: Loads state from Redis on startup\r\n\r\n## Key Functions in brackets.test.ts\r\n- `analyzePlayoffStructure(tournament, numPlayers)`: Analyzes bracket matches and player counts\r\n- `validateBracketStructure(numPlayers, expectedStructure)`: Tests bracket generation against expected outcomes\r\n- Test cases for 4-13 players with assertions on playoff players and round counts"
        }
    ]
}